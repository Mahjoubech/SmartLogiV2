databaseChangeLog:
  -  changeSet:
        id: 20251028-01-entities-base
        author: Mahjoubech
        changes:
          - createTable:
              tableName: zone
              columns:
                - column:
                    name: id
                    type: VARCHAR(50)
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: nom
                    type: VARCHAR(255)
                    constraints:
                      nullable: false
                      unique: true
                - column:
                    name: code_postal
                    type: VARCHAR(10)
                    constraints:
                      nullable: false
                - column:
                    name: date_creation
                    type: TIMESTAMP WITHOUT TIME ZONE
                    constraints:
                      nullable: false

          - createTable:
              tableName: client_expediteur
              columns:
                - column:
                    name: id
                    type: VARCHAR(50)
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: nom
                    type: VARCHAR(100)
                - column:
                    name: prenom
                    type: VARCHAR(100)
                - column:
                    name: email
                    type: VARCHAR(255)
                    constraints:
                      nullable: false
                      unique: true
                - column:
                    name: telephone
                    type: VARCHAR(20)
                    constraints:
                      unique: true
                - column:
                    name: adresse
                    type: VARCHAR(255)
                - column:
                    name: date_creation
                    type: TIMESTAMP WITHOUT TIME ZONE
                    constraints:
                      nullable: false

          - createTable:
              tableName: destinataire
              columns:
                - column:
                    name: id
                    type: VARCHAR(50)
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: nom
                    type: VARCHAR(100)
                - column:
                    name: prenom
                    type: VARCHAR(100)
                - column:
                    name: email
                    type: VARCHAR(255)
                    constraints:
                      nullable: false
                      unique: true
                - column:
                    name: telephone
                    type: VARCHAR(20)
                    constraints:
                      unique: true
                - column:
                    name: adresse
                    type: VARCHAR(255)
                - column:
                    name: date_creation
                    type: TIMESTAMP WITHOUT TIME ZONE
                    constraints:
                      nullable: false

          - createTable:
              tableName: livreur
              columns:
                - column:
                    name: id
                    type: VARCHAR(50)
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: nom
                    type: VARCHAR(100)
                - column:
                    name: prenom
                    type: VARCHAR(100)
                - column:
                    name: telephone
                    type: VARCHAR(20)
                - column:
                    name: vehicule
                    type: VARCHAR(50)
                - column:
                    name: zone_assignee_id
                    type: VARCHAR(50)

          - createTable:
              tableName: produit
              columns:
                - column:
                    name: id
                    type: VARCHAR(50)
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: nom
                    type: VARCHAR(255)
                    constraints:
                      nullable: false
                - column:
                    name: categorie
                    type: VARCHAR(50)
                - column:
                    name: poids
                    type: NUMERIC(10,2)
                - column:
                    name: prix
                    type: NUMERIC(10,2)
                - column:
                    name: date_creation
                    type: TIMESTAMP WITHOUT TIME ZONE
                    constraints:
                      nullable: false

          - createTable:
              tableName: colis
              columns:
                - column:
                    name: id
                    type: VARCHAR(50)
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: description
                    type: TEXT
                - column:
                    name: poids
                    type: NUMERIC(10,2)
                    constraints:
                      nullable: false
                - column:
                    name: statut
                    type: VARCHAR(50)
                    constraints:
                      nullable: false
                - column:
                    name: priorite
                    type: VARCHAR(50)
                - column:
                    name: ville_destination
                    type: VARCHAR(100)
                    constraints:
                      nullable: false
                - column:
                    name: client_expediteur_id
                    type: VARCHAR(50)
                    constraints:
                      nullable: false
                - column:
                    name: destinataire_id
                    type: VARCHAR(50)
                    constraints:
                      nullable: false
                - column:
                    name: zone_id
                    type: VARCHAR(50)
                    constraints:
                      nullable: false
                - column:
                    name: livreur_id
                    type: VARCHAR(50)
                - column:
                    name: date_creation
                    type: TIMESTAMP WITHOUT TIME ZONE
                    constraints:
                      nullable: false

          - createTable:
              tableName: historique_livraison
              columns:
                - column:
                    name: id
                    type: VARCHAR(50)
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: colis_id
                    type: VARCHAR(50)
                    constraints:
                      nullable: false
                - column:
                    name: statut
                    type: VARCHAR(50)
                    constraints:
                      nullable: false
                - column:
                    name: date_changement
                    type: TIMESTAMP WITHOUT TIME ZONE
                    constraints:
                      nullable: false
                - column:
                    name: commentaire
                    type: TEXT
                - column:
                    name: date_creation
                    type: TIMESTAMP WITHOUT TIME ZONE
                    constraints:
                      nullable: false

          - createTable:
              tableName: colis_produit
              columns:
                - column:
                    name: colis_id
                    type: VARCHAR(50)
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: produit_id
                    type: VARCHAR(50)
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: quantite
                    type: INT
                    constraints:
                      nullable: false
                - column:
                    name: prix_unitaire
                    type: NUMERIC(10,2)
                - column:
                    name: date_ajout
                    type: TIMESTAMP WITHOUT TIME ZONE
                - column:
                    name: date_creation
                    type: TIMESTAMP WITHOUT TIME ZONE
                    constraints:
                      nullable: false